# üöÄ Server Deployment System v5.0 Enhanced Edition
## –ù–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (2024-12-09)

---

## ‚ú® –ß—Ç–æ –Ω–æ–≤–æ–≥–æ

### 1. üìÇ –ò–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—É—Ç–µ–π
–í—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ `/srv/sys/`:

```bash
/srv/sys/
‚îú‚îÄ‚îÄ logs/              # –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ server-deploy.log
‚îÇ   ‚îú‚îÄ‚îÄ web-auth.log
‚îÇ   ‚îî‚îÄ‚îÄ system-update.log
‚îú‚îÄ‚îÄ tmp/               # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ progress/      # –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
‚îú‚îÄ‚îÄ backups/           # –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ snapshot_*/    # –°–Ω–∏–º–∫–∏ —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ configs/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ fail2ban/          # Fail2ban –¥–∞–Ω–Ω—ã–µ
‚îî‚îÄ‚îÄ help/              # –°–ø—Ä–∞–≤–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

/srv/www/              # –í–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç
‚îú‚îÄ‚îÄ html/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∞–π—Ç—ã
‚îú‚îÄ‚îÄ auth-site/         # –°–∞–π—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ wordpress/         # WordPress —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îú‚îÄ‚îÄ sites-available/   # –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã
‚îî‚îÄ‚îÄ sites-enabled/     # –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–∞–π—Ç—ã
```

### 2. üé® –ù–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –±–∞–Ω–Ω–µ—Ä
–ö—Ä–∞—Å–∏–≤—ã–π ASCII-–∞—Ä—Ç –±–∞–Ω–Ω–µ—Ä —Å —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- üìÖ –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
- üìä –í–µ—Ä—Å–∏—è –û–°
- üñ• Hostname
- üïí Uptime
- üåê IP –∞–¥—Ä–µ—Å
- üíª –ù–∞–≥—Ä—É–∑–∫–∞ CPU (—Ç–æ–ø-3 –ø—Ä–æ—Ü–µ—Å—Å–∞)
- üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (—Ç–æ–ø-3 –ø—Ä–æ—Ü–µ—Å—Å–∞)
- üì¶ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞

### 3. üåê –†–µ–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
**–ú–æ–¥—É–ª—å: `web-deploy-advanced.sh`**

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx + PHP-FPM + MySQL
- ‚úÖ –ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ WordPress —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- ‚úÖ –û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (Let's Encrypt)
- ‚úÖ Rate limiting –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS

#### –ó–∞–ø—É—Å–∫:
```bash
sudo ./web-deploy-advanced.sh
# –∏–ª–∏ –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é: W - –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
```

#### –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
–£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞:
- 1-—è –ø–æ–ø—ã—Ç–∫–∞: cooldown 5 —Å–µ–∫—É–Ω–¥
- 2-—è –ø–æ–ø—ã—Ç–∫–∞: cooldown 15 —Å–µ–∫—É–Ω–¥
- 3-—è –ø–æ–ø—ã—Ç–∫–∞: cooldown 30 —Å–µ–∫—É–Ω–¥
- 4-—è –ø–æ–ø—ã—Ç–∫–∞: cooldown 1 –º–∏–Ω—É—Ç–∞
- 5-—è –ø–æ–ø—ã—Ç–∫–∞: cooldown 2 –º–∏–Ω—É—Ç—ã
- 6-—è –ø–æ–ø—ã—Ç–∫–∞: cooldown 5 –º–∏–Ω—É—Ç
- 7-—è –ø–æ–ø—ã—Ç–∫–∞: cooldown 10 –º–∏–Ω—É—Ç
- 8-—è –ø–æ–ø—ã—Ç–∫–∞: cooldown 30 –º–∏–Ω—É—Ç
- 9+ –ø–æ–ø—ã—Ç–∫–∏: cooldown 1 —á–∞—Å

–í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `/srv/sys/logs/web-auth.log`

### 4. üîÑ –ú–æ–¥—É–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏ —è–¥—Ä–∞
**–ú–æ–¥—É–ª—å: `system-update-manager.sh`**

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ Upgrade –ø–∞–∫–µ—Ç–æ–≤ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º
- ‚úÖ Dist-upgrade –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —è–¥—Ä–∞ Linux
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —è–¥–µ—Ä
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤ —Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Å–Ω–∏–º–∫–æ–≤
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã (autoremove, autoclean)

#### –ó–∞–ø—É—Å–∫:
```bash
sudo ./system-update-manager.sh
# –∏–ª–∏ –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é: U - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —è–¥—Ä–∞
```

#### –°–Ω–∏–º–∫–∏ —Å–∏—Å—Ç–µ–º—ã:
–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–Ω–∏–º–æ–∫:
- –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (/etc/ssh/, /etc/nginx/, etc.)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —è–¥—Ä–µ
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–°–Ω–∏–º–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `/srv/sys/backups/snapshot_YYYYMMDD_HHMMSS/`

### 5. üíª –£–ª—É—á—à–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–Ω—é
**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:**

```
‚ïî‚ïê‚ïê‚ïê‚ïê –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é - v5.0 Enhanced + HISTOR + SRV-SYS ‚ïê‚ïê‚ïê‚ïê‚ïó

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ –ë–´–°–¢–†–´–ï –î–ï–ô–°–¢–í–ò–Ø ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚ö° –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
üåê –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (NEW!)
üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —è–¥—Ä–∞ (NEW!)

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ –£–°–¢–ê–ù–û–í–ö–ê –°–ï–†–í–ò–°–û–í ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚öôÔ∏è  –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
üê≥ Docker —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
üóÑ  –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ –ê–î–ú–ò–ù–ò–°–¢–†–ò–†–û–í–ê–ù–ò–ï ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ –ú–û–ù–ò–¢–û–†–ò–ù–ì ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üñ•  MC-Style –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ HISTOR –†–ê–°–®–ò–†–ï–ù–ò–Ø ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üî• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ iptables (HISTOR)
üîê –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ SSH-—Å–µ—Å—Å–∏–π (SID)
‚öôÔ∏è  Win_Config –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

üìñ –°–ø—Ä–∞–≤–∫–∞ [F1]
‚ÑπÔ∏è  –û —Å–∏—Å—Ç–µ–º–µ
‚ùå –í—ã—Ö–æ–¥
```

### 6. üîß –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ system-config
**–£—Å—Ç–∞–Ω–æ–≤—â–∏–∫: `install-global-command.sh`**

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
sudo ./install-global-command.sh install
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–∞–Ω–¥–æ–π:
```bash
system-config
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
```bash
sudo ./install-global-command.sh install    # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
sudo ./install-global-command.sh uninstall  # –£–¥–∞–ª–∏—Ç—å
sudo ./install-global-command.sh check      # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
sudo ./install-global-command.sh update     # –û–±–Ω–æ–≤–∏—Ç—å
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è)

```
server-init/
‚îú‚îÄ‚îÄ server-deploy-v5-enhanced.sh      # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (1,650+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ web-deploy-advanced.sh            # –ú–æ–¥—É–ª—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (900+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ system-update-manager.sh          # –ú–æ–¥—É–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (650+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ install-global-command.sh         # –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –∫–æ–º–∞–Ω–¥—ã (200+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ srv-sys-integrator.sh             # –ò–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä SRV-SYS (1,100 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ srv-sys-iptables-controller.sh    # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä iptables (1,200 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ srv-sys-master.conf               # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ (600 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ ssh-sid-system.sh                 # SSH SID —Å–∏—Å—Ç–µ–º–∞ (1,100 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ win-config-automation.sh          # Win Config (1,000 —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è 18,200+ —Å—Ç—Ä–æ–∫]
```

**–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- 27 —Ñ–∞–π–ª–æ–≤
- 41,000+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- 100% –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –†–µ–∞–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–Ω–µ –∑–∞–≥–ª—É—à–∫–∏)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url> server-init
cd server-init

# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x *.sh

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É
sudo ./install-global-command.sh install

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
system-config
```

### 2. –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
–í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ:
```
Q - –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```

–ë—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH

### 3. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ WordPress
```bash
# –ò–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é: W ‚Üí 1 ‚Üí 3
# –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:
sudo ./web-deploy-advanced.sh
```

–í—ã–±–µ—Ä–∏—Ç–µ:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx (–ø–æ–ª–Ω–∞—è)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WordPress
3. –í–≤–µ–¥–∏—Ç–µ –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `mysite.local`)

WordPress –±—É–¥–µ—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç –≤ `/srv/www/wordpress/`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ò–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é: U ‚Üí 11
# –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:
sudo ./system-update-manager.sh
```

–í—ã–±–µ—Ä–∏—Ç–µ: **11 - –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–≤—Å—ë —Å—Ä–∞–∑—É)**

---

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–∞–π—Ç —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∞–π—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8080
sudo ./web-deploy-advanced.sh
# –í—ã–±—Ä–∞—Ç—å: 2 - –°–æ–∑–¥–∞—Ç—å —Å–∞–π—Ç —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
# –î–æ–º–µ–Ω: auth.local
# –ü–æ—Ä—Ç: 8080

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
http://auth.local:8080
```

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤–≤–µ—Å—Ç–∏ –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äî —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –≤—Ä–µ–º—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —è–¥—Ä–∞
```bash
sudo ./system-update-manager.sh
# –í—ã–±—Ä–∞—Ç—å: 5 - –û–±–Ω–æ–≤–∏—Ç—å —è–¥—Ä–æ Linux

# –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
sudo reboot
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–º–∫–∞ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
```bash
sudo ./system-update-manager.sh
# –í—ã–±—Ä–∞—Ç—å: 8 - –°–æ–∑–¥–∞—Ç—å —Å–Ω–∏–º–æ–∫ —Å–∏—Å—Ç–µ–º—ã

# –°–Ω–∏–º–æ–∫ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤:
# /srv/sys/backups/snapshot_YYYYMMDD_HHMMSS/
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Å–Ω–∏–º–∫–∞
```bash
sudo ./system-update-manager.sh
# –í—ã–±—Ä–∞—Ç—å: 9 - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Å–Ω–∏–º–∫–∞
# –í—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π —Å–Ω–∏–º–æ–∫ –∏–∑ —Å–ø–∏—Å–∫–∞
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- IP-–∞–¥—Ä–µ—Å, –≤—Ä–µ–º—è, username —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- JSON –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤ `/srv/sys/.web_auth_attempts.json`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å fail2ban (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –°–Ω–∏–º–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- –°–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- –í–∫–ª—é—á–∞—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
- –ü–æ–∑–≤–æ–ª—è—é—Ç –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏
–í—Å–µ –ª–æ–≥–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ:
```bash
/srv/sys/logs/
‚îú‚îÄ‚îÄ server-deploy.log      # –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥
‚îú‚îÄ‚îÄ web-auth.log           # –ü–æ–ø—ã—Ç–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ system-update.log      # –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ iptables.log           # –õ–æ–≥–∏ firewall
‚îî‚îÄ‚îÄ ssh-sessions.log       # SSH —Å–µ—Å—Å–∏–∏
```

---

## üõ† –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—É—Ç–µ–π
–í—Å–µ –ø—É—Ç–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–æ–≤:

**server-deploy-v5-enhanced.sh:**
```bash
LOG_FILE="/srv/sys/logs/server-deploy.log"
TMP_DIR="/srv/sys/tmp/"
WWW_DIR="/srv/www"
BACKUP_DIR="/srv/sys/backups"
```

**web-deploy-advanced.sh:**
```bash
WWW_DIR="/srv/www"
AUTH_LOG="/srv/sys/logs/web-auth.log"
AUTH_DB="/srv/sys/.web_auth_attempts.json"
```

**system-update-manager.sh:**
```bash
BACKUP_DIR="/srv/sys/backups"
LOG_FILE="/srv/sys/logs/system-update.log"
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
–í `web-deploy-advanced.sh` ‚Üí —Ñ—É–Ω–∫—Ü–∏—è `create_auth_handler()`:

```php
$cooldown_times = [5, 15, 30, 60, 120, 300, 600, 1800, 3600];
// –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–¥–µ—Ä–∂–µ–∫
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–∞—Ö:
- `README.md` ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π README
- `README_V5.md` ‚Äî v5.0 Enhanced Edition
- `SRV_SYS_INTEGRATION_GUIDE.md` ‚Äî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SRV-SYS
- `ADMIN_GUIDE_V2.md` ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `SECURITY_INTEGRATION_GUIDE.md` ‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `/srv/sys/logs/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞: `sudo chmod +x *.sh`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `dialog`, `apt`, `systemd`

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**Sandrick Tech ¬© 2024**
*Server Deployment System v5.0 Enhanced Edition*
